
<div class="color-banner-carousel">
  <div class="content-text">
    <p><i>Inspire-se nas makes</i></p>
  </div>
  <div class="content-text-second">
    <p>A vida é curta. <br> Os cílios não precisam ser!</p>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-xs-6 col-xs-offset-3 text-center">
        <form class="form-inline" action="#" role="search">
          <input type="text" placeholder="Busque sua make do dia ou seu maquiador preferido" name="busca" style="width: 433px; height: 35px;">
          <button class="btn btn-pink" type="submit">Procurar</button>
        </form>
      </div>
    </div>
  </div>

  <%= render "shared/carousel" %>
</div>

<% if params[:busca].present? %>
  <div class="results-wrapper" style="background-color: white; box-shadow: 0 1px 1px 0 #d8d8d8; padding-bottom: 40px">
    <div class="container">
      <div class="row">
        <!-- Found Makes. Load makes cards -->
        <% if @makes.length > 0 %>
          <h2 class="text-center" style="color: #777">Encontramos <%= @makes.length %> maneiras para você ficar linda com '<%= params[:busca] %>'</h2>
          <% @makes.each do |make| %>
            <div class="col-xs-12 col-sm-6 col-lg-4">
              <div class="make-card">
                <%= link_to make_path(make) do %>
                  <div class="parent-img">
                    <div class="make-img" style="background-image: url('<%= cl_image_path make.images.first.image_url %>')"></div>
                  </div>
                <% end %>
                <div class="make-content flexbox">
                  <div class="make-content-text">
                    <h4><%= make.name %></h4>
                    <p><%= make.user.artistic_name %></p>
                  </div>
                  <% if make_is_liked_by_user?(make) %>
                    <%= link_to '#', class: 'unlike_button', 'data-id': make.id do %>
                      <i class="fa fa-heart"></i>
                    <% end %>
                  <% else %>
                    <%= link_to '#', class: 'like_button', 'data-id': make.id do %>
                      <i class="fa fa-heart-o"></i>
                    <% end %>
                  <% end %>
                </div>
              </div>
            </div>
          <% end %>

        <!-- No makes found. Check if any user was found -->
        <% elsif @users.length > 0 %>
          <h2 class="text-center" style="color: #777">Encontramos <%= @users.length %> maneiras para você ficar linda com '<%= params[:busca] %>'</h2>
          <% @users.each do |user| %>
            <div class="col-xs-12 col-sm-6 col-lg-4">
              <div class="make-card">
                <%= link_to makes_path do %>
                  <div class="parent-img">
                    <div class="make-img" style="background-image: url('<%= cl_image_path user.makes.first.images.first.image_url %>')"></div>
                  </div>
                <% end %>
                <div class="make-content flexbox">
                  <div class="make-content-text">
                    <h4><%= user.artistic_name %></h4>
                  </div>
                </div>
              </div>
            </div>
          <% end %>

        <!-- Neither makes or users found -->
        <% else %>
          <h2 class="text-center" style="color: #777">Desculpe, não encontramos o que você deseja</h2>
        <% end %>
      </div>
    </div>
  </div>
<% end %>



<div class="types-wrapper">
  <div class="container">

    <% if params[:busca].present? %>
      <h2 class="text-center" style="color: #777">Não encontrou a make que estava procurando?</h2>
      <h4 class="text-center" style="color: #777">Temos certeza que uma de nossas categorias ira te ajudar!</h4>
    <% else %>
      <div class="content-text-card">
        <p><i>Confira nossas principais categorias, <br> clique nos cards e inspire-se!</i>
        <br>
        <i class="fa fa-hand-o-down" aria-hidden="true"></i>
        </p>
      </div>
    <% end %>

    <div class="row">
      <% @types.each do |type| %>
        <div class="col-xs-12 col-md-4">
          <%= link_to type_path(type) do %>
            <div class="type-card" style="background-image: linear-gradient(transparent 34%, rgba(0,0,0,0.36) 57%, rgba(0,0,0,0.74) 81%, rgba(0,0,0,.9) 100%), url('<%= cl_image_path type.make_types.first.make.images.first.image_url %>')">
              <div class="type-card-content text-center">
                <hr>
                <h2><%= type.name %></h2>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
